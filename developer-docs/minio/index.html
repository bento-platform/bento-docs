
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bento-platform.github.io/bento-docs/developer-docs/minio/">
      
      
        <link rel="prev" href="../json-schemas/">
      
      
        <link rel="next" href="../monitoring/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Bento MinIO - Bento Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bento-minio" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Bento Documentation" class="md-header__button md-logo" aria-label="Bento Documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bento Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bento MinIO
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/bento-platform/bento-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Bento Documentation" class="md-nav__button md-logo" aria-label="Bento Documentation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Bento Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bento-platform/bento-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bento Docs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding services to Bento
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../bentoctl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bentoctl: the Bento deployment command line management tool
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Bento with Dev-containers in VS Code
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../json-schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JSON Schemas for data types and discovery configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Bento MinIO
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Bento MinIO
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    <span class="md-ellipsis">
      Routing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      Domain resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-minio-certificates-networking-and-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Initialize MinIO certificates, networking and directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-minio" class="md-nav__link">
    <span class="md-ellipsis">
      Start MinIO
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-console" class="md-nav__link">
    <span class="md-ellipsis">
      Using the console
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-minios-s3-api" class="md-nav__link">
    <span class="md-ellipsis">
      Using MinIO's S3 API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using MinIO&#39;s S3 API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#s3cmd" class="md-nav__link">
    <span class="md-ellipsis">
      S3cmd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boto3" class="md-nav__link">
    <span class="md-ellipsis">
      Boto3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bento Monitoring
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../phenopackets_v1_to_v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Converting Phenopackets from V1 to V2 using bentoctl
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../public_discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Public data discovery configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference_material/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guide to genomic reference material in Bento
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reverse-proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bento behind a proxy
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting Bento
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Migration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            Migration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v13
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v14
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v15
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_15_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v15.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_15_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v15.2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v16
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v17
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_17_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v17.1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v18
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to Bento v19
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migration/migrating_to_2_11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating to BentoV2 2.11
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    <span class="md-ellipsis">
      Routing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      Domain resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-minio-certificates-networking-and-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Initialize MinIO certificates, networking and directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-minio" class="md-nav__link">
    <span class="md-ellipsis">
      Start MinIO
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-console" class="md-nav__link">
    <span class="md-ellipsis">
      Using the console
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-minios-s3-api" class="md-nav__link">
    <span class="md-ellipsis">
      Using MinIO's S3 API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using MinIO&#39;s S3 API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#s3cmd" class="md-nav__link">
    <span class="md-ellipsis">
      S3cmd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boto3" class="md-nav__link">
    <span class="md-ellipsis">
      Boto3
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="bento-minio">Bento MinIO</h1>
<p>Bento can be deployed with a <a href="https://github.com/minio/minio">MinIO</a> service.
The MinIO service provides an <a href="https://min.io/docs/minio/linux/reference/s3-api-compatibility.html">S3 compatible API</a> 
for object storage.</p>
<p>It is mostly intended for development and testing purposes with the S3 API, 
as we are working on enabling S3 storage for Bento.</p>
<p>For deployments, Bento instances requiring large storage capacity should rely on an external managed 
S3 storage provider (AWS, Ceph, production MinIO cluster, etc). 
This will allow Bento deployments to be decoupled from disk storage concerns.</p>
<h2 id="routing">Routing</h2>
<p><img alt="MinIO local deployment" src="../img/minio_object_store.png" /></p>
<p><strong>Note:</strong> As shown above, the MinIO service relies on disk storage, which is why
production environments should consider external S3 storage instead.</p>
<h2 id="configuration">Configuration</h2>
<p>To enable the MinIO service in a Bento deployment, please follow the instructions bellow.</p>
<h3 id="environment-variables">Environment variables</h3>
<p>Enable MinIO by setting the feature flag and other required variables in <code>local.env</code>.</p>
<pre><code class="language-bash">BENTO_MINIO_ENABLED='true'
BENTO_MINIO_ROOT_USER=root                  # default value, can be changed
BENTO_MINIO_ROOT_PASSWORD=secure-password   # change to a secure pw
BENTO_MINIO_DOMAIN=minio.${BENTOV2_DOMAIN}  # MUST be a subdomain of BENTOV2_DOMAIN
</code></pre>
<h3 id="domain-resolution">Domain resolution</h3>
<p>In a VM using a trusted certificate authority, there should be a DNS record for <code>BENTO_MINIO_DOMAIN</code>.</p>
<p>In a local development environment, you must specify how <code>BENTO_MINIO_DOMAIN</code> should be resolved, 
simulating a DNS record for self-signed certificates.</p>
<p>Assuming <code>BENTO_MINIO_DOMAIN=minio.bentov2.local</code>, add the following line to your <code>/etc/hosts</code> file:</p>
<pre><code class="language-bash"># /etc/hosts
127.0.0.1       minio.bentov2.local
</code></pre>
<h3 id="initialize-minio-certificates-networking-and-directories">Initialize MinIO certificates, networking and directories</h3>
<p>After enabling the MinIO feature flag for the first time and setting domain resolution, 
you must initialize the Docker networks, mounted directories and certs.</p>
<pre><code class="language-bash">./bentoctl.bash init-certs -f   # creates the self-signed certificate for MinIO
./bentoctl.bash init-docker     # creates the Docker network for MinIO
./bentoctl.bash init-dirs       # creates MinIO's data directory to be mounted
</code></pre>
<h3 id="start-minio">Start MinIO</h3>
<p>If all previous steps were performed correctly, you are ready to restart the 
gateway and start the MinIO service!</p>
<pre><code class="language-bash"># Will recreate the gateway container automatically and start MinIO.
./bentoctl.bash run
</code></pre>
<h2 id="using-the-console">Using the console</h2>
<p>The console can be accessed using a web browser, simply navigate to <a href="https://minio.bentov2.local/minio/ui/">minio.bentov2.local/minio/ui/</a>.</p>
<p>Authenticate using <code>BENTO_MINIO_ROOT_USER</code> and <code>BENTO_MINIO_ROOT_PASSWORD</code>.</p>
<p>Once logged in, you can issue access keys. These keys can be used to make 
S3 API calls.</p>
<h2 id="using-minios-s3-api">Using MinIO's S3 API</h2>
<p>Assuming you created an access key in the console and saved the values, 
you are ready to make object storage operations through the S3 API.</p>
<p>Interactions between clients and the S3 API all take place over HTTP.
Many CLI tools and libraries are available to simplify these operations.</p>
<h3 id="s3cmd">S3cmd</h3>
<p><a href="https://s3tools.org/s3cmd">S3cmd</a> is a popular CLI tool to interact with object stores that
support the S3 protocol, including MinIO.</p>
<p>Once S3cmd is installed on a machine, you can create a s3cmd configuration file for the S3 API
endpoint of your choice.</p>
<pre><code class="language-bash"># ~/.s3cfg-minio-local
host_base = minio.bentov2.local     # S3 API endpoint (local here)
host_bucket = minio.bentov2.local   
use_https = True                    # Use HTTPS

# For dev self-signed certs only
check_ssl_certificate = False       # Enable if using trusted CA

# Setup access keys
access_key = &lt;OBTAIN FROM MINIO CONSOLE&gt;
secret_key = &lt;OBTAIN FROM MINIO CONSOLE&gt;
</code></pre>
<p>With the S3cmd config file in place, you can start creating buckets, uploading files, and much more.</p>
<pre><code class="language-bash"># list buckets (empty at first)
s3cmd -c ~/.s3cfg-minio-local ls

# Create a bucket named 'test'
s3cmd -c ~/.s3cfg-minio-local mb s3://test

# Upload a file to your new bucket!
s3cmd -c ~/.s3cfg-minio-local put some-file.txt s3://test/some-file.txt
</code></pre>
<h3 id="boto3">Boto3</h3>
<p><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/quickstart.html#installation">Boto3</a> 
is an official AWS Python package to interact with an S3 compatible object store.</p>
<p>Like S3cmd, it must be configured to use access keys.</p>
<p>Future work on DRS and Drop-Box will involve Boto3 to enable S3 storage in Bento.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>